// const _ = require('lodash');
const {posMod, clamp} = require('js/core/utils/math');

const earthData =
`












                                                                                                                                                                                                                                                                                           ########################
                                                                                                                                                                                                      ################################                                         ###########################################
                                                                                                                                                                                            #####  ##########################################                              ##################################################
                                                                                                                                                                                   ######################################################      ############### ############ #######################################       #
                                                                                                                                                                                  ###################################################       ###############################################################################    #################
                                                                                                                                                                            #####    #############################################     ######################################################################################################                                                                                                                                                                                                                       ######
                                                                                                                                                                        ##############             ##########################     ######################################################################################################                                                                       ####  #####                                            ########                                                                                  #############
                                                                                                                                                                        ################## ################################       ###################################################################################################                                                                   ###  ##################                                                                                                                                   ##############
                                                                                                                                                                          ################## ########################                ##############################################################################################                                                           #################    ########                                                                                                                                        ##############
                                                                                                                                                      ######                 #############    ##################               ###################################################################################################                                                             ####################                                                                                                                                                    #########  #######
                                                                                                                                       #####           #########   ######     #########  #########################     ##########################################################################################################                                                                #############                                                                                                                                                                   ##########
                                                                                                                                       ######                 ###    ###                     #################        ###########################################################################################################                                                                  ###########     #####                                                                                                                                                        ##
                                                                                                                          ######        ##                                 #             ###################                   ###################################################################################################                                                                   #######         #                                                                                                                                                                 ####
                                                                                                                       #########                                       #####          ###################  ##             ##########################################################################################################                                                                   ####                                                                                                                                                                        ###########
                                                                                                                     ########               ####               #####    ###########   ####################                   #################################################################################################                                                                                                                                                                            ########                                                                #######################
                                                                                                                    ####       #########     ####          ##########         #####                                                            ##################################################################################                                                                                                                                                               ##############                                                     ######  #################################                                                #########
                                                                                                                              ############### #######          ######    ###   ############ ###########                                            ##############################################################################                                                                                                                                                          ############                                                     ################################################                                               ################
                                                                                                                                       #############            ####   ######  ##########################                                           ############################################################################                                                                                                                                                        ##########                                                    ####################################################                                                  #############     #######
                                                                                                                                     ####                                            ###########   ##                                                 ###########################################################################                                                                                                                                                       #######                                                      ################################################
                                                                                                                ###############                                            ######                                                                      ########################################################################                                                                                                                                                      ########                                                         ################################################
                                                                                                                #################                  ####       ########   #########     #####     ####  ######                                            ######################################################################                                                                                                                                                      ######                                               ################################################################# ##########         ########                          ######
                                                                                                               ##############  #####            #### #         #####    #########    #######  ########  ########                                          #################################################################                                                                                                                                                       #######                           #                     ###################################################################################  ###########
                                                                                                              ############  ############## ####  #####      ###########  ####        ##################     ###                                            ############################################################# ###                                                                                                                                                     #######                          ########    #           ################################################################################################                     ############
                                                                                                             ###########   ##################### ######        ########             ###############################                                       ################################################################                                                                                                                                                     #########                          ########    ## ######### ##############################################################################################                      #####################
 ##                                                                                                             ########  #############################          #####   #####       ###############################   #                                  ## ###############################################################                                                                                                                                                    ########                        ########   ####  ##########################################################################################################     ###   ####  ##########################
 ###                                         ######                                                               #          ###########################                ########       ###################################                                     ####################################################### ######                                                                                            ### #####                                                  ######                    ############  #################################################################################################################  ##########################################        ##                                           ##
                                       ###################  #                                                                        ######################             #########      ########################################                            ##########################################################    #                                                                                              ###############                                                                       ############   ###########################################################################################################################################################################
                                   ########################################                       ####  ###    #              #################################     #   #########             ############ ######################                          ################################################################                                                                                      ####################                                                                          ###########  ############################################################################################################################################################################                     ###
                                  ################################################         ##################### #######       ############################      #######   ########          #######           ###################                          ####   #####################################################                                                                                     ##############################                                                      #######      ############  ############################################################################################################################################################################## ######### ###     ###############
                                #####################################################   #####################################        ############      #####       #  ###   #######  ##      #########         ##################                                 ###################################################                                                                                      #######################################                                                ##########     #########    ############################################################################################################################################################################################    ##################
 ##                        #########################################################################################################            ######              ##      ############     #########             #############                                #################################################                                                                                        ############################################           #                ###       ##### ##############    #########  ##################################################################################################################################################################################################################
 #####                        ####################################################################################################              ###########         #### ###############    #########          ###    ###############                         ##########################################                                                                                               ##################################################        #####       ##############################################   ##################################################################################################################################################################################################################
 ########                       ############################################################################################################## ######################### ################  ###########        ####     #################                     #########################################                                                                                               #####################################################      ####     #################################################    ##################################################################################################################################################################################################################
 #############                    ###################################################################################################################################################################                 ###################                    ########################################                                                                                               #######################################################      ###    #################################################    ###################################################################################################################################################################################################################
 ########## #######            ##   ##############################################################################################################################################################                   #######################                  #####################################                                     #                                                          ########################################    ###########       #######################################################  ######################################################################################################################################################################################################################
 # ##################     ##################################################################################################################################################################                        ############    ########                 ###################################                         #####   ##########                                                       ############################################            ######################################################################################################################################################################################################################################################################################
   ##############        ##################################################################################################################################################################  #                      #############     ####                     ##########################                                 ##################                                                    ####################       ###################          ########################################################################################################################################################################################################################################################################################
        #######            ###############################################################################################################################################################  #####           #######################                             ########################                                   ##################                                                  ####################        ###################    ##     #######################################################################################################################################################################################################################################################################################
            ###               ##  #   ###################################################################################################################################################   #########       ####### #################                           #######################                                     ###############                                                   #####################     ######################    ##########################################################################################################################################################################################################################################################################################
                                       ##############################################################################################################################################       ###### ## #                ###############                           ######################                                    #############                                                    ######################    ############################ ##########################################################################################################################################################################################################################################################################################
                 ####               # #############################################################################################################################################          ###     ##                 ###############                           ####################                                                                                                    ######################    ##########################################################################################################################################################################################################################################################################################################################
                     #         ####################################################################################################################################################                                       #######   ###                            #################                                                                                                   ######################      ############################################################################################################################################################################################################################################################################################################################
                              ##################################################################################################################################################                 ###         #               ######                                 ###############                                                                                                 ########################       ############################################################################################################################################################################################################################################################################################# ########################## ###
                             #################################################################################################################################################                          ##  ###########            #                                 ###############                                                                                               ########################        ###########################################################################################################################################################################################################################################################################################   ######################
                            #################################################################################################################################################                                ############                                             #############                                                                                                ########################        ################################################################################################################################################################################################################################################################################    ######   ###################
                              ############################  ################################################################################################################                                 ################                                          ############                                                                                                ########################        ##############################################################################################################################################################################################################################################################################       ###    ##################
                              ########################## #######    ########################################################################################################                                 ################                                                #####                                                                                                 ##########################       ############ ##############################################################################################################################################################################################################################################################              ############# ####
                           ##   #######################  #######            ###############################################################################################                                   ###############         ##                                                                                                                                           ###########################        ###          ###########################################################################################################################################################################################################################################################             ########  #
                                     ################    ###                     ##########################################################################################                                  #################       ####                                                                                                                                          ##########################             ####   ##################################################################################################################################################################################################################################################    #######           ######
                                    ### ##############                             ########################################################################################                                 ##################      ######                                                                                                                                          ########  ##############           ##############################################################################################################################################################################################################################################                  #####            ######
                                          #   #######                                #########################################################################################                              ####################   ########                                                                                                                   ####                  ######     ###########              ###########################################################################################################################################################################################################################################                                   #######
                                             ######                                         ###################################################################################                               ##############################                                                                                                                 ####                              ###########               ########################################################################################################################################################################################################################################                                   #########
                                             ###   #####                                     ##################################################################################                                ##############################                                                                                                                #######                        ##  ##########          ##   #######################################################################################################################################################################################################################################                                  #############
                                           ####    ###                                        #######################################################################################                          ###############################                                                                                                              ########                     ####    ########          ###########################################################################################################################################################################################################################################                                   ##############
                                         ###                                                    ########################################################################################                       ##############################                                                                                                                ######                      #####   ########          ##########################################################################################################################################################################################################################################                                   ###############
                                       #####                                                    ##########################################################################################                     ################################                                                                                                              #####                       ####   # ####             ########################################################################################################################################################################################################################################                                     #############
                                   ####                                                          ############################################################################################                ###################################                                                                                                             # ######                    ###  #######              ######################################################################################################################################################################################################################################                                      #############
                                 ###                                                               #################################################################################################       #########################################                                                                                                     ###  ########                   ###    #                #######################################################################################################################################################################################################################################                                        ############
                               #                                                                   #################################################################################################     #############################################                                                                                                 ######    ######                   ###            #####  ##########################################################################################################################################################################################################################################                                      ##########
                                                                                              ###   ################################################################################################      ############################################                                                                                                ######       #####                  ##########  #####################################################################################################################################################################################################################################################  ####    #                          #########
                                                                                              ###     ##############################################################################################       #############################################                                                                                              ######      #######             ############################################################################################################################################################################################################################################################################   #                          #########
                                                                                                      ###############################################################################################      ##############################################                                                                                             ######   ##########         ################################################################################################################################################################################################################################################################################# ###                          #####
                                                                                                        #############################################################################################      ##############################################                                                                                             #####     ############     ################################################################################################################################################################################################################################################################################## ###                          ####
                                                                                                         #############################################################################################     ##############################################                                                                                            ####     #############      ################################################################################################################################################################################################################################################################################## ###                          ####
                                                                                                         ###############################################################################################  ############################################# ##                                                                                                      ###########     ##################################################################################################################################################################################################################################################################################  ###                           ##
                                                                                                         ##########################################################################################################################################   ###                                                                                                      ###########  ######################################################################################################################################################################################################################################################################################   ###
                                                                                                        ##   ####################################################################################################################################    ###                                                                                                      ####         #######################################################################################################################################################################################################################################################################################   ###
                                                                                                        ###### ####################################################################################################################                  ## #                                                                                                                 ########################################################################################################################################################################################################################################################################################   ####
                                                                                                           ####  #################################################################################################################       ###        #####  #                                                                                                         # ##########################################################################################################################################################################################################################################################################################    ####
                                                                                                             ####  ############################################################################################################    ####            ##########                                                                                                        ############################################################################################################################################################################################################################################################################################   ###
                                                                                                                #  ###########################################################################################################  #######           ############                                                                                                 ##################################################################################################################################################################################################################################################################################################   ##
                                                                                                               ###  ######################################################################################################### ########            #############                                                                                                 ################################################################################################################################################################################################################################################################################################    ##
                                                                                                                ### ######################################################################################################## ##########                  ##  ##                                                                                                    ############################################################################################################################################################################################################################################################################################     ##
                                                                                                                ########################################################################################################### ########### #                #  ###                                                                                                     ###############################################################################   ########################################################################################################################################################################################################      ###
                                                                                                                ####################################################################################################################### ##     #                                                                                                                     #################################################################  #######     ########################       ##########################################################################################################################################################################       ## #
                                                                                                                 ########################################################################################################################     ###                                                                                                                     ###############################################################      ###      ######################         #########################################################################################################################################################################
                                                                                                                 ##############################################################################################################################                                                                                                                       ############################  ################################      #####    #####################           ########################################################################################################################################################################         #
                                                                                                                 #################################################################################################################    ######                                                                                                                          ###########################   # ##############################        ####   ####################        ###########################################################################################################################################################################          ##
                                                                                                                #################################################################################################################   #####                                                                                                                             ###########################      ###########################          #        #################       ############################################################################################################################################################################           ###
                                                                                                                ##############################################################################################################      ###                                                                                                                               ###################   ######     ###########################                     ################       ##########################################################################################################################################################################            ##### #
                                                                                                                ############################################################################################################                                                                                                                            #######      ##################      #######     ########################                       ################       #######################################################################################################################################################################             ########
                                                                                                                ###########################################################################################################                                                                                                                           #########################              #######       #####################                          #############         ################################################################################################################################################################  ##             ########
                                                                                                                ###########################################################################################################                                                                                                                            #######################            #    ######        ###################                            ############          ############################################################################################################################################################                  #### ###
                                                                                                                ########################################################################################################### #                                                                                                                         #########################           #     #######        #################           ####             #############        ## #########################################################################################################################################################                   ###
                                                                                                                ###########################################################################################################                                                                                                                            ######################             #      #######       ##################       ##########         ###############           #######################################################################################################################################################
                                                                                                                ##################################################################################################### ##                                                                                                                               ###################                #         #######    #################   ################## #####################           ######################################################################################################################################################                     ###
                                                                                                                ####################################################################################################                                                                                                                                   ###################               ###          #######  #########     #    ###########################################     ########################################################################################################################################   ##############                     ####
                                                                                                                ####################################################################################################                                                                                                                                  ###################                ###           ###      ###### ##     ##############################################       #####################################################################################################################################    ############                        ####
                                                                                                                 ###################################################################################################                                                                                                                                  ##################                 ###            ###      ######      ##############################################        ####################################################################################################################################     ##     #####                         ###
                                                                                                                 #################################################################################################                                                                                                                                    ##################                                 ##       #####       #############################################         ################################################################################################################################               #####                        ####
                                                                                                                  ################################################################################################                                                                                                                                    ##################                                #         ######      ############################################          ################################################################################################################################              #######                       ###
                                                                                                                   ############################################################################################# #                                                                                                                                     ################                           ##### #          ######     #############################################         #################################################################################################################################             ########                     ###
                                                                                                                   #############################################################################################                                                                                                                                       ###############                            #####            ####        #############################################        ##################################################################################################################################   ###         ######                  #####
                                                                                                                    ############################################################################################                                                                                                                                       ##  ##########               ####  ### #      ##             ##         ###############################################      #########################################################################################################################################         #####               # ######
                                                                                                                     ############################################################################################                                                                                                                                           ###            ###################                       ##            ###  #####    #########################################################################################################################################################################           ######              #########
                                                                                                                     ############################################################################################                                                                                                                                            #           #####################                                                   ########################################################################################################################################################################            ######             ##########
                                                                                                                      ###########################################################################################                                                                                                                                           ###      #########################                          #                       ########################################################################################################################################################################              #####        ###############
                                                                                                                       #########################################################################################                                                                                                                                            ##################################                            ###            ###    #######################################################################################################################################################################              #####       ###############
                                                                                                                        ######################################################################################                                                                                                                                             ##################################                                                   ########################################################################################################################################################################             ##        ######  ####
                                                                                                                           ##################################################################################                                                                                                                                             ###################################                                                   #########################################################################################################################################################################                     ### # ## ##
                                                                                                                             #############################################################################                                                                                                                                              ######################################                                                 ###########################################################################################################################################################################                   ### ####
                                                                                                                              ############################################################################                                                                                                                                             #########################################                                               ###########################################################################################################################################################################                  #### ##
                                                                                                                              ##########################################################################                                                                                                                                              ################################################            #####                       #############################################################################################################################################################################                  ###
                                                                                                                               ########################################################################                                                                                                                                               #################################################         #########                     ##############################################################################################################################################################################                 ###
                                                                                                                               ####  #################################################################                                                                                                                                               ###################################################        ##############       ##       ##############################################################################################################################################################################                 ##
                                                                                                                                ###   ################################################################                                                                                                                                               ######################################################      ################# ##### ## ################################################################################################################################################################################
                                                                                                                                ###   ################################################################                                                                                                                                               #########################################################  ###########################################################################################################################################################################################################
                                                                                                                                 ##    ###############################################       ### #####                                                                                                                                               #####################################################################################################################   ###############################################################################################################################################
                                                                                                                                  ##    ###################################       ####            ####                                                                                                                                               #################################################################################### ###############################    ################################################################################################################################################
                                                                                                                                   ##   ##################################                         ####                                                                                                                                            ######################################################################################################################     ##############################################################################################################################################
                                                                                                                                    ##   ###############################                           ####                                                                                                                                           ######################################################################################## ## ###########################      #############################################################################################################################################
                                                                                                                                    ###   #############################                            ####                                                                                                                                        ############################################################################################ #  ###########################     ############################################################################################################################################
                                                                                                                                   #####   ###########################                             #####                                                                                                                                      #############################################################################################     ###########################       ########################################################################################################################################
                                                                                                                                    ####    ##########################                              ####                                                                                                                                     ###############################################################################################    ############################       #####  ###############################################################################################################################
                                                                                                                                      ###     ########################                              ####   #                                                                                                                                 ###############################################################################################     ############################              ##############################################################################################################################
                                                                                                                                        ##    ########################                               ###                                                                                                                                   ##################################################################################################     ###########################              #############################################################################################################################
                                                                                                                                        ##    ########################                                ##                                                                                                                                   ###################################################################################################    ########################### ##        #      ########################################################################################################################
                                                                                                                                        ###     #####################                                       #                                                                                                                              ###################################################################################################     #############################      ###                     #########################################################################################################    #
                                                                                                                                         ##      ####################                                       #                                                                                                                             #####################################################################################################    ############################      #####                     #######################################################################################################    ##
                                                                                                                                           ##     ###################                                                                                                                                                                    #######################################################################################################     ######################################                    #####################################################################################################     ###
                                                                                                                                            #      ##################                                                                                                                                                                   ########################################################################################################      ########################################                   ##################################################################################################      ##
                                                                                                                                            #       #################                             ######                                                                                                                                ########################################################################################################      #########################################                    ##############################################################################################        ##
                                                                                                                                                     ################                           ##  ######                                                                                                                              #########################################################################################################      #########################################                    ##########################################  ##############################################           ##
                                         #                                                                                                           ################                          ##       #####                                                                                                                          ###########################################################################################################     #########################################                   ##########################################   ###########################################
                                            #                                                                                                         ################                                     ####                                                                                                                       #############################################################################################################    ########################################                     ###################################          ###############################   ####
                                                                                                                                                      ################              #######                 #####                                                                                                                     #############################################################################################################    #######################################                       ###  #############################          ##############################     ##
                                                                                                                                                     #################              ######                    #####                                                                                                                     ###########################################################################################################     ######################################                            ############################            ############################      #
                                                 #                                                                                                   ##################            #######                   ######                                                                                                                     ###########################################################################################################      ###################################                              ###########################             ###########################       ##
                                                 ##                                                                                                   ##################           #######                             ######                                                                                                           ###########################################################################################################       ##################################                              #########################                 ########################      ####
                                                                                                                                                        ################          #######                              #######                                                                                                          ###########################################################################################################        #################################                              ########################                  ########################      ###
                                                                                                                                                         ##################    ##########                           ## #########  ##                                                                                                    ############################################################################################################       ###############################                                #######################                    ########################     ###                     #
                                                                                                                                                           #############################                     ###         #        ###                                                                                                   #############################################################################################################       #############################                                  #####################                     ########################                             ###
                                                                                                                                                              ##########################                                                                                                                                                ##############################################################################################################       ##########################                                    ###################                       #########################                           ####
                                                                                                                                                                ########################                                                                                                                                                ##############################################################################################################       ########################                                      ##################                        ##########################                          ####
                                                                                                                                                                   #####################                                                                                                                                               ################################################################################################################       ####################                                         ##################                        ##### #####################                         ####
                                                                                                                                                                     ####   ###########     #                                                                                                                                          ################################################################################################################       ###################                                           ##############                           ###    #####################                       ####
                                                                                                                                                                              ###################                                                                                                                                      #################################################################################################################      ##################                                            #############                                   ######################                      ####
                                                                                                                                                                               ###################                                                                                                                                    ###################################################################################################################     ################                                               ############                                   ######################                       ###
                                                                                                                                                                                ##################                                                                                                                                    #####################################################################################################################   #############                                                  ############                                   #######################                      ###
                                                                                                                                                                                  ################                                                                                                                                     #####################################################################################################################   ###########                                                    ###########                                    ######################                       #####
                                                                                                                                                                                     ############                                                                                                                                      ######################################################################################################################  ########                                                       ###########                                    ######################                          ###
                                                                                                                                                                                         ########                                                                                                                                      ####################################################################################################################### ####                                                           ###########                                     ### #################                       ##   ##
                                                                                                                                                                                          ########                                                                                                                                     ########################################################################################################################                                                               ###########                                    ####   ###############                              ##
                                                                                                                                                                                           ######                       ##  #                                                                                                           #######################################################################################################################               #                                                #########                                     ###      #############                               ##
                                                                                                                                                                                            #####                      ##   #                                                                                                            ######################################################################################################################            ####                                                 ########                                      ##      ############                           ##   ##
                                                                                                                                                                                             ####                 ####### ######                                                                                                          ######################################################################################################################       ########                                                 ########                                      ##       ##########                      #    ##  ###
                                                                                                                                                                                             #####               ######## ##########    ###  ##                                                                                            ###################################################################################################################### ############                                                   #######                                     ##          ######                        #    # # # #
                                                                                                                                                                                             #####               ######## ##################                                                                                                ##################################################################################################################################                                                   ######                                       #           ####                        #       ##
                                                                                                                                                                                                ####     #       ######## ####################                                                                                               #################################################################################################################################                                                   #####   #                                   ##           ###                        #        #    #
                                                                                                                                                                                                 ###   ######   ###############################                                                                                               ###############################################################################################################################                                                     ###   ###                                  ###          ##                        #              ##
                                                                                                                                                                                                 ########   #####################################                                                                                             ###############################################################################################################################                                                     ###   ###                                  ####                                              #  ###
                                                                                                                                                                                                     ###    ######################################                                                                                            ###############################################################################################################################                                                           ####                                  ###                                            ########
                                                                                                                                                                                                       #    #######################################                                                                                            #############################################################################################################################                                                            ####                                   ##                                            ##  #####
                                                                                                                                                                                                             #######################################                                                                                             ###########################################################################################################################                                                            ####                                    ##                                               ####
                                                                                                                                                                                                              #######################################                                                                                             #########################################################################################################################                                                              ###                                     ###                             ###             ##
                                                                                                                                                                                                              ########################################    #                                                                                        ########################       ########################################################################################                                                                                                       ####                            ###              ##
                                                                                                                                                                                                             #################################################                                                                                       ###################           #######################################################################################                                                                                                       #####                          ######
                                                                                                                                                                                                              ##################################################                                                                                      #######     ####             ######################################################################################                                                                                              #####     ######                       ########
                                                                                                                                                                                                              ###################################################                                                                                       ##                          #### ###############################################################################                                                                                                #####     #####                      #########
                                                                                                                                                                                                              ####################################################                                                                                                                        ##############################################################################                                                                                                 #####    #####                     ########
                                                                                                                                                                                                              ####################################################                                                                                                                          ###########################################################################                                                                                                   #####    ####                    ########
                                                                                                                                                                                                             ######################################################                                                                                                                         ##########################################################################                                                                                                     #####   ####                  ##########
                                                                                                                                                                                                           ########################################################                                                                                                                         #########################################################################                                                                                                       #####   ####               #############
                                                                                                                                                                                                           ########################################################                                                                                                                         #######################################################################                                                                                                          #######  ###              #############
                                                                                                                                                                                                           ##########################################################                                                                                                                      #######################################################################                                                                                                            #######  ##          ##################             #     ##
                                                                                                                                                                                                         ############################################################                                                                                                                      ######################################################################                                                                                                             ########             ###################    ##     #     ###
                                                                                                                                                                                                        ############################################################                                                                                                                       ####################################################################                                                                                                                ########           ##################     ########       ##
                                                                                                                                                                                                        ############################################################                                                                                                                       ###################################################################                                                                                                                 #########           ################     #               #
                                                                                                                                                                                                        ###############################################################                                                                                                                    ##################################################################                                                                                                                   ########           #################    #               #        #
                                                                                                                                                                                                       ################################################################ ####                                                                                                              ###################################################################                                                                                                                    #######           ################    ### ###                #######
                                                                                                                                                                                                       #######################################################################                                                                                                             #################################################################                                                                                                                      #######           ##############     ######                  ######
                                                                                                                                                                                                       ########################################################################                                                                                                            ################################################################                                                                                                                       ########           #############     #####                     ####     #####
                                                                                                                                                                                                       # ######################################################################  ##                                                                                                         ##############################################################                                                                                                                         #########         #############    ######                      ###    ########
                                                                                                                                                                                                        #################################################################################                                                                                                    ############################################################                                                                                                                           #########         ###########     ### ###            ####    #####  #############                  #
                                                                                                                                                                                                        ###################################################################################                                                                                                   ##########################################################                                                                                                                             ########                ####      ## ###        ##      #    #####################
                                                                                                                                                                                                      ######################################################################################                                                                                                   #########################################################                                                                                                                             #######                  #         #  ###                    #  #####################                #
                                                                                                                                                                                                      #######################################################################################                                                                                                  ########################################################                                                                                                                                #####                            #   ###                         ###################             # #
                                                                                                                                                                                                      #########################################################################################                                                                                                 #######################################################                                                                                                                                 ####                           ##    ##                            #################           ##
                                                                                                                                                                                                      ############################################################################################                                                                                               #####################################################                                                                                                                                   ###                            #    #                       #      #################    #  ####
                                                                                                                                                                                                      ############################################################################################                                                                                               #####################################################                                                                                                                                      ###                                                      #       ##################   ####        #
                                                                                                                                                                                                       ############################################################################################                                                                                              #####################################################                                                                                                                                      ######                                                   #       ###################               #
                                                                                                                                                                                                         ##########################################################################################                                                                                               #####################################################                                                                                                                                      #############                                                    #################                   #
                                                                                                                                                                                                         ##########################################################################################                                                                                               #####################################################                                                                                                                                        ###########                                                   ##################                      #
                                                                                                                                                                                                          #########################################################################################                                                                                                ####################################################                                                                                                                                              #########                                              ############    #####                     ##
                                                                                                                                                                                                           #######################################################################################                                                                                                 ####################################################                                                                                                                                                     ###    #### ### ##      ###                          ######      ####                         #
                                                                                                                                                                                                           #######################################################################################                                                                                                #####################################################                                                                                                                                                           #               ###                             #####       ####                        #
                                                                                                                                                                                                           ######################################################################################                                                                                                  #####################################################                                                                                                                                                               ##       ##                                             ####                     ## #
                                                                                                                                                                                                            #####################################################################################                                                                                                  #####################################################                                                                                                                                                                ##      ##                                              #####
                                                                                                                                                                                                            ####################################################################################                                                                                                   ######################################################                                                                                                                                                                                                                           ##                      #
                                                                                                                                                                                                             #################################################################################                                                                                                      #####################################################                                                                                                                                                                                                            #
                                                                                                                                                                                                              ################################################################################                                                                                                      #####################################################                                                                                                                                                                                        ##                  #
                                                                                                                                                                                                              ###############################################################################                                                                                                       #####################################################                                                                                                                                                                                         ###   ##          ###
                                                                                                                                                                                                               ##############################################################################                                                                                                      #######################################################                ##                                                                                                                                                                  ############          ###
                                                                                                                                                                                                               #############################################################################                                                                                                      ########################################################                ##                                                                                                                                                                 #############          ####
                                                                                                                                                                                                                ###########################################################################                                                                                                       ########################################################                ###                                                                                                                                                                ############           ####
                                                                                                                                                                                                                ###########################################################################                                                                                                      #########################################################              #####                                                                                                                                                        ##     ############            ####
                                                                                                                                                                                                                ###########################################################################                                                                                                      #########################################################              #####                                                                                                                                                       #####  #############            #### #
                                                                                                                                                                                                                 ##########################################################################                                                                                                      #########################################################             ######                                                                                                                                                     ######################            #######                                           #
                                                                                                                                                                                                                   ########################################################################                                                                                                     #########################################################             #######                                                                                                                                                    ########################           #######                                           #
                                                                                                                                                                                                                    #######################################################################                                                                                                     #########################################################          #########                                                                                                                                                     ##########################        ########
                                                                                                                                                                                                                      ####################################################################                                                                                                      ########################################################         ###########                                                                                                                                                  # ############################       #########                                           #                      ##
                                                                                                                                                                                                                        ##################################################################                                                                                                      ######################################################           ###########                                                                                                                                                  # ##############################     #########
                                                                                                                                                                                                                          ################################################################                                                                                                      ####################################################            ###########                                                                                                                                                  ###################################  ###########                                                               ##
                                                                                                                                                                                                                           ###############################################################                                                                                                      ##################################################               ##########                                                                                                                                                  ################################################                                                              ###
                                                                                                                                                                                                                            #############################################################                                                                                                        ################################################                ##########                                                                                                                                                 #################################################
                                                                                                                                                                                                                            #############################################################                                                                                                         ##############################################                 ##########                                                                                                                                                 #################################################
                                                                                                                                                                                                                            #############################################################                                                                                                         #############################################                  #########                                                                                                                                                 ####################################################
                                                                                                                                                                                                                            ############################################################                                                                                                          ############################################                   #########                                                                                                                                             ##########################################################
                                                                                                                                                                                                                            ############################################################                                                                                                           ###########################################                   #########                                                                                                                                          ##############################################################                               ##
                                                                                                                                                                                                                            ###########################################################                                                                                                            ############################################                 #########                                                                                                                                        ##################################################################                               ##
                                                                                                                                                                                                                            ###########################################################                                                                                                             ###########################################                ##########                                                                                                                                      ####################################################################                                ##
                                                                                                                                                                                                                            ##########################################################                                                                                                               ##########################################                ##########                                                                                                                                     ######################################################################                                ##
                                                                                                                                                                                                                            #########################################################                                                                                                                ###########################################               #########                                                                                                                                    #########################################################################
                                                                                                                                                                                                                            ######################################################                                                                                                                   ###########################################               #########                                                                                                                                    ##########################################################################
                                                                                                                                                                                                                            ###################################################                                                                                                                      ##########################################                 ########                                                                                                                                    ##########################################################################
                                                                                                                                                                                                                            ################################################                                                                                                                         ###########################################                #######                                                                                                                                    #############################################################################
                                                                                                                                                                                                                           ###############################################                                                                                                                            ########################################                  #######                                                                                                                                    ##############################################################################
                                                                                                                                                                                                                           ##############################################                                                                                                                             ######################################                     #####                                                                                                                                      ##############################################################################
                                                                                                                                                                                                                           #############################################                                                                                                                              ####################################                         #                                                                                                                                         #############################################################################
                                                                                                                                                                                                                           ############################################                                                                                                                               ####################################                                                                                                                                                                  ###############################################################################
                                                                                                                                                                                                                           ############################################                                                                                                                                ###################################                                                                                                                                                                 ################################################################################
                                                                                                                                                                                                                           ############################################                                                                                                                                ###################################                                                                                                                                                                  ###############################################################################
                                                                                                                                                                                                                           ############################################                                                                                                                                ###################################                                                                                                                                                                   ##############################################################################
                                                                                                                                                                                                                          #############################################                                                                                                                                 ##################################                                                                                                                                                                   ###############################################################################
                                                                                                                                                                                                                          #############################################                                                                                                                                  ################################                                                                                                                                                                     ##############################################################################
                                                                                                                                                                                                                          ############################################                                                                                                                                    ##############################                                                                                                                                                                      ##############################################################################
                                                                                                                                                                                                                          ###########################################                                                                                                                                     #############################                                                                                                                                                                        ############################################################################
                                                                                                                                                                                                                          ##########################################                                                                                                                                       ###########################                                                                                                                                                                        #############################################################################
                                                                                                                                                                                                                         ###########################################                                                                                                                                       ###########################                                                                                                                                                                         ############################################################################
                                                                                                                                                                                                                         ##########################################                                                                                                                                         #########################                                                                                                                                                                          ############################################################################
                                                                                                                                                                                                                         #########################################                                                                                                                                           #######################                                                                                                                                                                            ##########################################################################
                                                                                                                                                                                                                         ########################################                                                                                                                                            ######################                                                                                                                                                                             #########################         ########################################
                                                                                                                                                                                                                          ######################################                                                                                                                                             #####################                                                                                                                                                                              ####################                 ####################################
                                                                                                                                                                                                                         ######################################                                                                                                                                              ###################                                                                                                                                                                                #################                    ###################################
                                                                                                                                                                                                                         #####################################                                                                                                                                               #################                                                                                                                                                                                 ##################                     ##### ###########################
                                                                                                                                                                                                                         ####################################                                                                                                                                                ########                                                                                                                                                                                          #########                               ###  ###########################
                                                                                                                                                                                                                        ############################   #####                                                                                                                                                   ###                                                                                                                                                                                              ######                                 ##  ###########################                                            #
                                                                                                                                                                                                                        #############################                                                                                                                                                                                                                                                                                                                                                             ###                                      # #########################                                            ##
                                                                                                                                                                                                                       ###############################                                                                                                                                                                                                                                                                                                                                                                                                       ########################                                              ##
                                                                                                                                                                                                                       ###############################                                                                                                                                                                                                                                                                                                                                                                                                         ######################                                               ##
                                                                                                                                                                                                                       ################################                                                                                                                                                                                                                                                                                                                                                                                                         #####################                                                #
                                                                                                                                                                                                                      #################################                                                                                                                                                                                                                                                                                                                                                                                                         ####################                                                 ###
                                                                                                                                                                                                                     #################################                                                                                                                                                                                                                                                                                                                                                                                                           ###################                                                  ##
                                                                                                                                                                                                                     ################################                                                                                                                                                                                                                                                                                                                                                                                                             ######## #####                                                      #######
                                                                                                                                                                                                                      #############################                                                                                                                                                                                                                                                                                                                                                                                                                   ##   ####                                                       #######
                                                                                                                                                                                                                      ######################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ########
                                                                                                                                                                                                                      ######################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ######
                                                                                                                                                                                                                     #######################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ####
                                                                                                                                                                                                                     #######################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ###
                                                                                                                                                                                                                     #################  ###                                                                                                                                                                                                                                                                                                                                                                                                                               ##  ###                                                ## # ###
                                                                                                                                                                                                                     #################                                                                                                                                                                                                                                                                                                                                                                                                                                    #######                                               #####  #
                                                                                                                                                                                                                    ###################                                                                                                                                                                                                                                                                                                                                                                                                                                    ######                                              ######
                                                                                                                                                                                                                    ## ###################                                                                                                                                                                                                                                                                                                                                                                                                                                 ######                                              #####
                                                                                                                                                                                                                    #  ################                                                                                                                                                                                                                                                                                                                                                                                                                                     ####                                              #####
                                                                                                                                                                                                                       ###############                                                                                                                                                                                                                                                                                                                                                                                                                                       ##                                             ######
                                                                                                                                                                                                                      ################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #######
                                                                                                                                                                                                                    ##################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  #######
                                                                                                                                                                                                                   ##################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ########
                                                                                                                                                                                                                   ###############                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ########
                                                                                                                                                                                                                   ###############                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    #######
                                                                                                                                                                                                                  ################                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ###
                                                                                                                                                                                                                    ###############
                                                                                                                                                                                                                   ##################
                                                                                                                                                                                                                  ###################
                                                                                                                                                                                                                 ##################
                                                                                                                                                                                                                 #################                                                                                                                                                                                                                                                                                ###
                                                                                                                                                                                                                 ################                                                                                                                                                                                                                                                                                 ###
                                                                                                                                                                                                                 ###############
                                                                                                                                                                                                                  #############
                                                                                                                                                                                                                  ############
                                                                                                                                                                                                                  #############                 #####
                                                                                                                                                                                                                  #############               ## ###
                                                                                                                                                                                                                    #########
                                                                                                                                                                                                                      ##### ####
                                                                                                                                                                                                                     ############
                                                                                                                                                                                                                      ############
                                                                                                                                                                                                                        ############
                                                                                                                                                                                                                          ######## ###
                                                                                                                                                                                                                              ###















                                                                                                                                                                                                                                                   ###
                                                                                                                                                                                                                                                ####
                                                                                                                                                                                                                                             #
                                                                                                                                                                                                                                         ###
                                                                                                                                                                                                                                        ###                                                                                                                                                                                                                                                                                                                                                                                                            #
                                                                                                                                                                                                                                     #######                                                                                                                                                                                                                                      #######                                                                                            ####                  ##                                         ##
                                                                                                                                                                                                                                   ######                                                                                                                                                                                                                                      ############                                                             #                          ########           #########                              ############
                                                                                                                                                                                                                                  #####                                                                                                                                                                                                                                      ################                                                          ####                      ###################################       #################################################
                                                                                                                                                                                                                                 #####                                                                                                                                                                                                                                   ########################       #                                   #################################################################################################################################
                                                                                                                                                                                                                                  ###                                                                                                                                                                                                                              ###############################################                       ######################################################################################################################################
                                                                                                                                                                                                                                 #####                                                                                                                                                                                                                        #####################################################                   ##############################################################################################################################################
                                                                                                                                                                                                                           #    #########                                                                                                                                                                                                  ####           ##########################################################                 ###########################################################################################################################################################
                                                                                                                                                                                                                         ####   ###########                                                                                                                                                                                              ###########    ############################################################               ##################################################################################################################################################################
                                                                                                                                                                                                                         ##### ############                                                                                                                                             #          ##    ########                   #############################################################################           ############################################################################################################################################################################
                                                                                                                                                                                                                         ###### ############                                                                                                                                         ########    ####################    #######################################################################################           ################################################################################################################################################################################
                                                                                                                                                                                                                         ####### ############                                                                                                              #                  ####################################################################################################################################       #################################################################################################################################################################################################
                                                                                                                                                                                                                   #############  ############                                                                                                     ####   ############## ########################################################################################################################################       ######################################################################################################################################################################################################
                                                                                                                                                            ########  #                                            ############   ############                                                                                                    ###############################################################################################################################################################      ########################################################################################################################################################################################################
                                                                                                                                                                                                                                  ############                                                                                                 ###############################################################################################################################################################################################################################################################################################################################################################################
                                                                                                                                                         ##########                  ###                                       ################                                                                                            ##################################################################################################################################################################################################################################################################################################################################################################################
                                                                                                          ####     ###                                    ###########     #####################        ######         #########################                                                                                         ###################################################################################################################################################################################################################################################################################################################################################################################
                                                                                                                     ####          ###                     ###################################################################################                                                                                           ###############################################################################################################################################################################################################################################################################################################################################################################
                                                                                        #####################  #####    ###############  #                     ############################################################################                                                                                              ###########################################################################################################################################################################################################################################################################################################################################################################
                                                                                  ##############################################################      ####      #########################################################################                                                                                             #############################################################################################################################################################################################################################################################################################################################################################################
                                                                    ##################################################################################################################################################################                                                                                            ###############################################################################################################################################################################################################################################################################################################################################################################
                                                                    ############################################################################################################################################################                                                                                             ###################################################################################################################################################################################################################################################################################################################################################################################
                                                                    ########################################################################################################################################################                                                                                     ###############################################################################################################################################################################################################################################################################################################################################################################################
                                            #                 ################################################################################################################################################                                                                                               ##################################################################################################################################################################################################################################################################################################################################################################################################
                                            #######################################################################################################################################################################                                                                                      ########################################################################################################################################################################################################################################################################################################################################################################################################
                                            #########################################################################################################################################################################                                                    #####                     ###############################################################################################################################################################################################################################################################################################################################################################################################################
                                 ######        ##############################################################################################################################################################                                                         ###########                #####################################################################################################################################################################################################################################################################################################################################################################################################################
                                   ######         ##########################################################################################################################################################                                                        #############                #################################################################################################################################################################################################################################################################################################################################################################################################################
                                     #####                     ################################################################################################################################################                                                    ###############                           ##############################################################################################################################################################################################################################################################################################################################################################################################
                                                                   #############################################################################################################################################                              ###               ##################                            ############################################################################################################################################################################################################################################################################################################################################################################################
                                                                   ####################################################################################################################################################              ############           #################                                ############################################################################################################################################################################################################################################################################################################################################################################################
                                                               #############################################################################################################################################################                                     ###                              #######################################################################################################################################################################################################################################################################################################################################################################################################
                                                  ####################################################################################################################################################################################                                                #####################################################################################################################################################################################################################################################################################################################################################################################################################
                                                      #######################################################################################################################################################################################                    ################  ##########################################################################################################################################################################################################################################################################################################################################################################################################################
                                                       ###########################################################################################################################################################################################         ######################################################################################################################################################################################################################################################################################################################################################################################################################################################
                                                      #############################################################################################################################################################################################   ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################
                                                     ######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
                 #####                                     #####################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ########## ##############                                        ###########################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ##################################                                       ######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 #############################################################   ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 ###############################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
`;

const earthLines = earthData.split('\n');

const latToLatIndex = function(lat) {
    lat = clamp(lat, -90, 90);
    const latIndex = Math.round(((lat * -1) + 90) * 2);
    return latIndex;
};

const longToLongIndex = function(long) {
    const longIndex = posMod(Math.round((long + 180) * 2), 720);
    return longIndex;
};

const isLatLongLand = function(lat, long) {
    if (lat === undefined) {
        return false;
    }
    const latIndex = latToLatIndex(lat);
    const longIndex = longToLongIndex(long);
    return earthLines[latIndex][longIndex] === '#';
};

const MAX_DEGREES = 7.5;

const getDLongForNextChange = function(lat, long) {
    if (lat === undefined) {
        return MAX_DEGREES * 2;
    }
    const latIndex = latToLatIndex(lat);
    const longIndex = longToLongIndex(long);
    const latitudeLine = earthLines[latIndex];
    const current = latitudeLine[longIndex];
    let delta = 1;
    while (delta <= MAX_DEGREES * 2) {
        if (latitudeLine[posMod(longIndex + delta, 720)] !== current) {
            break;
        }
        delta++;
    }
    return delta / 2;
};

module.exports = {isLatLongLand, getDLongForNextChange};
